@startuml
actor Cliente
participant "Interfaz" as Web
participant "Controlador" as Controlador
participant "Cliente" as ObjCliente
participant "Turno" as Turno

Cliente -> Web: Ingresar a la página
activate Web

Web -> Cliente: Mostrar opciones (Cliente / Administrador)
Cliente -> Web: Seleccionar opción Cliente

Web -> Cliente: Solicitar datos (nombre, apellido, teléfono, mail)
Cliente -> Web: Ingresar datos

Web -> Controlador: validarDatos(nombre, apellido, teléfono, mail)
activate Controlador
Controlador -> ObjCliente: << create >> Cliente(nombre, apellido, teléfono, mail)
activate ObjCliente
ObjCliente --> Controlador: Datos cargados
deactivate ObjCliente

Controlador -> Controlador: verificarDatos()
Controlador --> Web: Resultado validación
deactivate Controlador

alt Datos válidos
    Web -> Cliente: Accede a interfaz principal
    Web -> Cliente: Mostrar opción "Cancelar turno"
    Cliente -> Web: Seleccionar turno a cancelar

    Web -> Controlador: cancelarTurno(turnoSeleccionado)
    activate Controlador
    Controlador -> Turno: cambiarEstado("Cancelado")
    activate Turno
    Turno --> Controlador: Estado actualizado
    deactivate Turno
    Controlador --> Web: Confirmación de cancelación
    deactivate Controlador

    Web -> Cliente: Mostrar mensaje “Turno cancelado con éxito”
    
else Datos inválidos
    Web -> Cliente: Mostrar mensaje de error (“mail inválido” o “teléfono inexistente”)
    Web -> Cliente: Volver al paso de ingreso de datos
end

alt Turno fuera de tiempo permitido
    Web -> Cliente: Mostrar mensaje “Su turno no puede ser cancelado con menos de 24 horas de antelación”
end

deactivate Web
@enduml